<div class="flex flex-col justify-between max-w-[300px] h-screen">
    <div class="flex-1 mx-4">
        <div class="sticky top-0 bg-white">
            <button class="material-symbols-outlined button-icon h-[65px] text-start">close</button>
            <h2 class="pb-separator-30">Carrito</h2>
        </div>
        
        <ul class="flex-1">
            @for (product of dataProducts; track $index) {
                    <li class="flex justify-between max-h-[200px] gap-2">
                        <figure class="max-w-[50%]">
                            <img class="w-full object-cover aspect-[4/3]" [src]="product.image.jpg" [alt]="product.image.title">
                        </figure>
                        
                        
                        
                        <div class="mb-4">
                            <p class="subtitle-m">{{ product.name }}</p>
                            <p class="my-2">{{ product.price | number: '1.2-2':'es' }} €/u.</p>
                            <app-counter [counter]="product.quantity" [stock]="product.stock" (newCounterValue)="changeQuantity($event, $index)"></app-counter>
                        </div>
                    </li>
                    <p class="flex justify-between text-l mb-6 px-2 py-1 bg-primary">Precio <span>{{ product.quantity * product.price | number: '1.2-2':'es' }} €</span></p>
                }
        </ul>
            
    </div>
    <div class="sticky bottom-0 flex flex-col justify-center bg-white">
        <p class="h4 flex justify-between py-[10px] px-[15px] mb-separator-30 bg-primary">Total <span class="h4">{{ getTotalBasket() | number: '1.2-2':'es' }} €</span></p>
        <button class="button-normal button-s m-auto mb-separator-50">Realizar pedido</button>

    </div>
</div>
